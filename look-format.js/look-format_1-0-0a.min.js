const txtExtensions=["txt","log","md","cfg","ini","json","xml","csv","yaml"],imgExtensions=["jpg","jpeg","png","gif","bmp","tiff","tif","svg","webp","ico"];function view(e,t,n,i=null){return _getView(t).view(e,n,i)}function _getView(e){e=function(e){e=e.split(".");return 1<e.length?e[e.length-1]:e[0]}(e);return new(!txtExtensions.includes(e)&&imgExtensions.includes(e)?ImageView:TextView)}class ViewerContainer{_viewContainer;_options;get(e=0){return document.createElement("div")}_applyOptions(){}}class TextViewerContainer extends ViewerContainer{get(e=null){var t=document.createElement("div"),n=(t.style.display="flex",t.style.flexDirection="row",t.style.overflow="auto",document.createElement("div")),i=(n.style.width="fit-content",n.style.marginRight="10px",n.classList.add("line-count-container"),document.createElement("div")),s=(i.classList.add("strings-container"),document.createElement("div"));return s.style.whiteSpace="pre",s.style.display="flex",s.style.flexDirection="row",s.classList.add("result-container"),s.appendChild(n),s.appendChild(i),t.appendChild(s),this._viewContainer=t,this._options=e,this._options&&this._applyOptions(),t}_getResultContainer(){return this._viewContainer.childNodes[0]}getStringsContainer(){return this._viewContainer.childNodes[0].childNodes[1]}getLineCountContainer(){return this._viewContainer.childNodes[0].childNodes[0]}_getCountElement(e){var t=document.createElement("div");return t.textContent=e,t.style.userSelect="none",t}_getTextElement(e){var t=document.createElement("div");return t.innerText=e,t}appendLine(e,t){var n=this._options["marginBetweenStrings"],t=this._getCountElement(t),e=this._getTextElement(e);t.style.marginBottom=n||"",e.style.marginBottom=n||"",this.getLineCountContainer().appendChild(t),this.getStringsContainer().appendChild(e)}_applyOptions(){var{margin:e,padding:t,fontFamily:n,fontSize:i,numberColor:s,textColor:o,width:r,height:a,bg:l}=this._options;this._viewContainer.style.margin=e||"",this._viewContainer.style.padding=t||"",this._viewContainer.style.fontFamily=n||"",this._viewContainer.style.fontSize=i||"",this._viewContainer.style.width=r||"",this._viewContainer.style.height=a||"",this._viewContainer.style.backgroundColor=l||"",this.getLineCountContainer().style.color=s||"",this.getStringsContainer().style.color=o||""}}class ImageViewerContainer extends ViewerContainer{_img;get(e=null){var t=document.createElement("div"),n=document.createElement("img");return t.appendChild(n),this._img=n,this._viewContainer=t,this._options=e,this._options&&this._applyOptions(),t}setImage(e){this._img.src=e}_applyOptions(){var{margin:e,padding:t,width:n,height:i}=this._options;this._viewContainer.style.margin=e||"",this._viewContainer.style.padding=t||"",this._img.style.width=n||"",this._img.style.height=i||""}}class View{view(e,t,n=0){}}class TextView extends View{view(e,t,n=null){e=document.querySelector(e);const i=new TextViewerContainer;n=i.get(n);e.appendChild(n);let s=1;e=t.split("\n");return 1<e.length?e.forEach(function(e){""===e.trim()?i.appendLine("\n",s):i.appendLine(e,s),s++}):i.appendLine(e[0],s),n}}class ImageView extends View{view(e,t,n=null){var e=document.querySelector(e),i=new ImageViewerContainer,n=i.get(n);return e.appendChild(n),i.setImage(t),n}}